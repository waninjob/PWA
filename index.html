<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>PWA Demo</title>
    <!-- <link rel="manifest" href="./manifest.webmanifest"> -->
</head>

<body>
    HelloWorld!!
    <!-- <p> \{^_^}/ hi! This's PWA Demo. </p>
    <ul id="list"></ul>
    -->
    <!-- <img id="myImg" src="assets/red.svg" alt="">
    <img id="myImg" src="assets/yellow.svg" alt="">

    <section id="content">這裡之外的所有內容，都是Shell</section>
    <button id="notifications">授權推送</button>
    <script>
        document.getElementById('content').innerHTML = "載入資料中";
        if ('serviceWorker' in navigator) {
            console.log("enter...")
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('完成 SW 設定!', reg))
                .catch(err => console.log('Error!', err));

            // setTimeout(() => {
            //     document.getElementById("myImg").src = "assets/yellow.svg";
            // }, 1000);
        }
        let button = document.getElementById("notifications");
        button.addEventListener('click', function (e) {
            Notification.requestPermission().then(function (result) {
                if (result === 'granted') {
                    randomNotification();
                }
            });
        });
        function randomNotification() {
            console.log("觸發推送")
            // var randomItem = Math.floor(Math.random() * games.length);
            // var notifTitle = games[randomItem].name;
            // var notifBody = 'Created by ' + games[randomItem].author + '.';
            // var notifImg = 'data/img/' + games[randomItem].slug + '.jpg';
            // var options = {
            //     body: notifBody,
            //     icon: notifImg
            // }
            // var notif = new Notification(notifTitle, options);
            // setTimeout(randomNotification, 30000);
        }
    </script> -->
</body>

</html>
